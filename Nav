import { Link, NavLink } from 'react-router-dom';
import logo from '../assets/logo.png'
import { FaUser } from 'react-icons/fa';
import { useEffect, useState } from 'react';

const Nav = () => {
   const [scrollPosition, setScrollPosition] = useState(0)
   const [showNav, setShowNav] = useState(true)

   useEffect(() =>{
      const handleScroll = () =>{
         const currentScrollPos = window.scrollY;
         
         if(currentScrollPos < scrollPosition){
            setShowNav(true)
         }
         else{
            setShowNav(false)
         }
         setScrollPosition(currentScrollPos)
      }

      window.addEventListener('scroll', handleScroll);

      return () =>{
         window.removeEventListener('scroll', handleScroll)
      }
   }, [scrollPosition])

   

   return (
      <nav className={`fixed top-0 right-0 left-0  py-5  bg-gray-300/20 backdrop-blur-sm transition-transform duration-500 ease-in-out ${showNav ? 'translate-y-0' :'-translate-y-full'}`}>
         <div className='flex items-center justify-between max-w-7xl mx-auto px-2'>
         <Link to='/' className='flex items-center space-x-2'>
            <img src={logo} alt="logo" className='w-10' />
            <div className='font-semibold text-lg leading-5'>
               World's<br/>News
            </div>
         </Link>
         <ul className='*:uppercase space-x-5 font-semibold text-gray-700'>
            <NavLink to='/'>home</NavLink>
            <NavLink to='/addArticles'>Add Articles</NavLink>
            <NavLink to='/allArticles'>All Articles</NavLink>
            <NavLink to='/subscription'>Subscription</NavLink>
            {/* <NavLink to='/dashboard'>Dashboard</NavLink>
            <NavLink to='/myArticles'>My Articles</NavLink>
            <NavLink to='/premiumArticles'>Premium Articles</NavLink> */}
         </ul>
         <div className='border-2 border-transparent ring-2 ring-lime-500 rounded-full p-1.5'>
            <FaUser className='text-lg'/>
         </div>
         </div>
      </nav>
   );
};

export default Nav;
